# Development Kickoff Summary

**專案名稱**：IELTS 寫作詞彙與搭配驗證工具 v1.14
**文件來源**：《Feature Specification》與《Specification Quality Verification Report》
**建立日期**：2025-10-28
**狀態**：準備開發 (Ready for Implementation)

---

## 🎯 專案目標

開發一個智慧詞彙預測與搭配驗證系統，支援 IELTS 寫作學習者：

* 自動預測下一個自然詞彙並顯示例句（基於條件機率與困惑度）。
* 驗證搭配自然度並回傳可靠度分數（基於聯合機率與互資訊）。
* 提供 Band 分數等級切換的例句比較功能。
* 確保輸出的一致性、文法正確性與可重現性。

---

## 🧩 開發核心模組

| 模組名稱                    | 說明               | 主要功能                                                           |                                               |
| :---------------------- | :--------------- | :------------------------------------------------------------- | --------------------------------------------- |
| **Prediction Engine**   | 下一詞預測與例句生成（獨立功能） | 嚴格以 **條件機率 P(w_n                                               | context)** 與 **困惑度 (PPL)** 作為首要判斷依據，生成候選詞與例句。 |
| **POS Validator**       | 詞性驗證層            | 檢查輸入片語後第一詞的詞性與使用者選項一致性，必要時重新生成例句。                              |                                               |
| **Validation Engine**   | 搭配可靠度計算（獨立功能）    | 使用 **聯合機率 P(w_1..w_n)** 與 **互資訊 (MI)** 評估整個片語搭配自然度並生成可靠度分數與例句。 |                                               |
| **Consistency Manager** | 穩定性控制            | 實作 Self-Consistency、top-k / top-p 採樣調整。                        |                                               |
| **Band Regenerator**    | Band 等級例句重生      | 調整語法複雜度與詞彙密度以符合 Band 分數。                                       |                                               |
| **UI/UX Layer**         | 前端介面模組           | 提供輸入、分數顯示、例句切換與錯誤提示；明確區分 "Prediction" 跟 "Validation" 兩個按鈕/流程。  |                                               |

---

## 🧠 技術要點與建議（補充）

1. **功能分離**：前端須明確區分「預測下一詞 (Prediction)」與「搭配驗證 (Validation)」兩個互不混淆的操作流與 API。每個流程輸入、輸出格式與評估指標不同。
2. **Prediction 評估依據**（必須）：

   * 使用 **條件機率 P(w_n | context)** 作為候選詞排序的核心指標。
   * 使用 **困惑度 (Perplexity, PPL)** 作為例句自然度的輔助判斷（PPL 越低越自然）。
   * POS 檢查與再生成（如使用者指定詞性）。
3. **Validation 評估依據**（必須）：

   * 使用 **聯合機率 P(w_1..w_n)** 衡量片語整體出現頻率。
   * 使用 **互資訊 (Mutual Information)** 作為搭配強度的量化指標（MI 高表示強搭配）。
   * 結合 consistency 控制 (temperature/top-k/self-consistency) 確保分數穩定性。
4. **技術選項建議**：保留先前建議（spaCy、N-gram 資料庫、語言模型等），並強化對統計指標計算的資料來源（大規模 N-gram 及對齊語料）。

---

## 🧪 測試補充

* **Prediction 測試重點**：驗證候選詞排序是否依 P(w_n|context) 正確；例句 PPL 檢測結果是否低於門檻（例如 PPL < X，門檻待定）。
* **Validation 測試重點**：驗證搭配可靠度分數是否與基準語料庫中的聯合機率與 MI 指標相關性高（相關係數 > 0.8）。

---

## 📋 開發里程碑（維持原計畫）

* 規格確認：✅ 已完成
* 系統設計：1 週
* 模型整合：2 週
* 內部測試：1 週
* 公測與修正：1 週

---

## 🚀 下一步建議（補充）

* 明確定義 Prediction 的 PPL 門檻與 Validation 的 MI/聯合機率閾值（數值由語料驗證決定）。
* 在設計階段準備可計算 MI 與聯合機率的語料庫（例如 Google N-gram 或內部校正語料）。
* UI 上強調兩個功能的分隔，避免使用者混淆相同片語在不同流程下的不同結果。

---

**狀態結論**：已將您補充的條件機率/困惑度（Prediction）與聯合機率/互資訊（Validation）明確寫入開發設計要求，並在技術與測試建議中補充對應的驗證程序。 ✅

